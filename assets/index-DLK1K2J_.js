import{r as l,j as t}from"./vendor-B1gV91ol.js";import{U as m,A as u}from"./index-BX_kuCcN.js";import{a as d}from"./index-t--hEgTQ.js";import{u as p}from"./vendor-store-zNU_bmKY.js";import{C as h,B as o,m as x,n as g,o as f}from"./vendor-ui-OeklMkKU.js";import{u as y}from"./vendor-route-DDSpTbF5.js";var _={VITE_API_SERVER:"https://posstree.com/api/word_app"};const j=`${_.VITE_API_SERVER}/admin/check`,v=async({token:e})=>(await d.post(j,{token:e}),e),k=({onSuccess:e,onError:n})=>{const r=p(m);return{onLogin:async({token:a})=>{try{await v({token:a}),r({isLogin:!0,token:a}),e==null||e()}catch(i){n==null||n(i),r({isLogin:!1,token:""});return}}}},T=()=>{const{showAlertSnackbar:e}=l.useContext(u),n=y(),{onLogin:r}=k({onSuccess:()=>{n("/user_meanings",{replace:!0})},onError:()=>{e({severity:"error",message:"로그인에 실패하였습니다. 다시 시도해주세요."})}}),s=a=>{a.preventDefault();const c=new FormData(a.currentTarget).get("key");r({token:c})};return t.jsx(h,{component:"main",maxWidth:"xl",sx:{height:"100vh"},fixed:!0,disableGutters:!0,children:t.jsx(o,{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center",children:t.jsxs(o,{display:"flex",flexDirection:"column",width:320,children:[t.jsx(x,{component:"h1",variant:"h5",align:"center",children:"Word App Manager"}),t.jsxs(o,{component:"form",noValidate:!0,sx:{mt:1},onSubmit:s,children:[t.jsx(g,{name:"key",label:"Insert login key",placeholder:"Insert login key",variant:"outlined",fullWidth:!0,required:!0}),t.jsx(f,{variant:"contained",type:"submit",sx:{mt:3,mb:2},fullWidth:!0,children:"Login"})]})]})})})};export{T as default};
